<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>上海国际首饰珠宝展览会</title>
  <link rel="stylesheet" href="/index.css" />

  <!-- set `maximum-scale` for some compatibility issues -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />

  <script src="./jquery-2.1.4.min.js"></script>
  <!-- <script src="./fengmap.min-v2.1.2-nologo.js"></script> -->
  <script src="./fengmap.min-v2.1.2-nologo.js"></script>
  <script >
    /////////////////////////////////////////////////////////
    /////////////创建气泡/////////////
    /////////////////////////////////////////////////////////
    var createBubble = function(map) {
      this.map = map;
      if (!this.map) return;
    }
    createBubble.prototype = {
      bubbledomEvent: function(screencoord) {
        var map_ = this.map;
        var this_ = this;
        var div = document.createElement('div');
        var arrow = document.createElement('div');
        var center = document.createElement('div');
        div.setAttribute('class', 'popover top');
        div.style.display = 'block';
        arrow.setAttribute('class', 'arrow');
        arrow.style.left = '50%';
        center.setAttribute('class', 'popover-content');
        center.innerHTML = screencoord.name;
        div.appendChild(arrow);
        div.appendChild(center);
        document.getElementById('fengMap').appendChild(div);
        map_.on('update', function() {
          this_.setPosition(div, map_.coordMapToScreen(screencoord.x, screencoord.y, screencoord.z))
        });
      },
      setPosition: function(ele, screencoord) {
        if (!ele || !screencoord || typeof(screencoord) != 'object' || !screencoord.x || !screencoord.y) return;
        var h = ele.offsetHeight;
        var w = ele.offsetWidth / 2;
        ele.style.top = screencoord.y - h - 30 + 'px'; //弹出框上移整个弹出框高度+三角高度 + 用户自定义的距离地图的高度
        ele.style.left = screencoord.x - w + 'px'; //弹出框左移半个弹出框宽度
      },
      closeBubble: function() {
        var oBubbles = document.querySelectorAll('.popover');
        if (oBubbles) {
          for (var i = 0; i < oBubbles.length; i++) {
            document.getElementById('fengMap').removeChild(oBubbles[i]);
          }
        }
      }
    }
  </script>
  <script type="application/javascript" src="//mob.visualbusiness.cn/vizengine_web/v2.0.9/thirdparty/share.js"></script>
  <script>
  </script>
</head>
<body>

<div id="root"></div>
<script type="application/javascript" src="//webapp.vizen.cn/vizengine_web/v2.0.85/vizengine_web.js"></script>
<script src="/index.js"></script>
<script src="./nav.js"></script>
<script>
  getShareInfoSub(
      "http://jewelry2018.vizen.cn",
      "2018上海国际珠宝首饰展览会",
      "众里寻她千百度，逛展从此不迷路。一键观展智能导航展会详情请点击！",
      "http://resource-10002033.cossh.myqcloud.com/public/images/zhongbaoxie.jpg"
  );
  var navDestination={"lng":"121.489920","lat":"31.182660","title":"上海世博展览馆","address":"上海市浦东新区国展路1099"};
  function navto(){
    if(wx && is_weixn()){
        wx.openLocation({
          latitude: Number(navDestination.lat),
          longitude: Number(navDestination.lng),
          name: navDestination.title,
          address: navDestination.address,
          scale: 14,
          infoUrl: 'http://jewelry2018.vizen.cn/'
        });
    }else{
      window.location.href="//apis.map.qq.com/uri/v1/routeplan?type=drive&to=" + navDestination.title + "&tocoord="+ navDestination.lat +"," + navDestination.lng + "&policy=1&referer=myapp";
    }
  }
  var _mtac = {"performanceMonitor":1,"senseQuery":1};
  (function() {
    var mta = document.createElement("script");
    mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.4";
    mta.setAttribute("name", "MTAH5");
    mta.setAttribute("sid", "500602610");
    mta.setAttribute("cid", "500610652");
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(mta, s);
  })();

  $("body").on("click","[mta]",function(){
        if(typeof(MtaH5) != "undefined"){
          var mtas=$(this).attr("mta").split(",");
          for(var i in mtas){
              if(mtas[i]!=""){
                MtaH5.clickStat(mtas[i]);
              }
          }
        }
    });
    function addMtaClick(opt_name){
      if(typeof(MtaH5) != "undefined" && opt_name){
        MtaH5.clickStat(opt_name);
      }
    }
</script>

</body>
</html>
